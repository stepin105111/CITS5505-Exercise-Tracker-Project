{% extends "base.html" %}

{% block title %}Friends & Leaderboard - Fitness Tracker{% endblock %}

{% block content %}
<h1 class="text-center mt-4 mb-4">ğŸ† Friends & Leaderboard</h1>

<!-- Search Friends Section -->
<div class="search-container">
  <h3 class="section-title">Find Friends</h3>
  <input type="text" id="user-search" class="search-input" placeholder="Search by username...">
  <div id="search-results" class="search-results"></div>
</div>

<!-- Friends Leaderboard -->
<div class="leaderboard-container">
  <h3 class="section-title">Friend Activity Leaderboard</h3>
  
  {% if friends %}
    {% for friend in friends %}
      <div class="friend-card">
        <div class="friend-name">{{ friend.username }}</div>
        <p>
          {% if friend.activity == 'Strength Training' %}
            <span class="activity-icon">ğŸ‹ï¸</span>
          {% elif friend.activity == 'Running' %}
            <span class="activity-icon">ğŸƒâ€â™‚ï¸</span>
          {% elif friend.activity == 'Yoga' %}
            <span class="activity-icon">ğŸ§˜</span>
          {% elif friend.activity == 'Swimming' %}
            <span class="activity-icon">ğŸŠâ€â™‚ï¸</span>
          {% elif friend.activity == 'Cycling' %}
            <span class="activity-icon">ğŸš´â€â™€ï¸</span>
          {% else %}
            <span class="activity-icon">ğŸ’ª</span>
          {% endif %}
          
          Burned <strong>{{ friend.calories }} kcal</strong> in <strong>{{ friend.duration }} minutes</strong> 
          doing {{ friend.activity }}.
        </p>
        <p><small class="text-muted">Shared {{ friend.shared_days_ago }} day{% if friend.shared_days_ago != 1 %}s{% endif %} ago</small></p>
      </div>
    {% endfor %}
  {% else %}
    <div class="text-center p-4">
      <p>You haven't added any friends yet. Use the search above to find friends!</p>
    </div>
  {% endif %}
</div>
{% endblock %}

{% block scripts_body %}
<script src="{{ url_for('static', filename='js/friends.js') }}"></script>
{% endblock %}