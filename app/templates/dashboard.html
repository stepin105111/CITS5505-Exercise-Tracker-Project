{% extends "base.html" %}

{% block title %}Dashboard - Fitness Tracker{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block body_class %}dashboard-page{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row">
    
    <!-- Main Content -->
    <div class="col-md-8">
      <div class="text-center mb-4">
        <h2>Welcome, {{ user.username }} ðŸ‘‹</h2>
        <p class="lead text-muted">Hereâ€™s your current fitness summary:</p>
      </div>

      <div class="card p-4 shadow-sm mb-4">
        <h5 class="mb-3">ðŸ“‹ Your Details</h5>
        <p><strong>Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
      </div>

      <div class="col-sm-6 mb-4">
        <div class="card bg-light p-3 shadow-sm">
          <h5>ðŸŽ¯ Weekly Goals</h5>
          {% if weekly_plan %}
            <p>Calories to Burn: <strong>{{ weekly_plan.calorie_goal }} kcal</strong></p>
            <p>Workout Time: <strong>{{ weekly_plan.time_goal }} mins</strong></p>
          {% else %}
            <p class="text-muted">No plan set yet. Set your weekly goals below.</p>
          {% endif %}
          <a href="{{ url_for('workout_plan') }}" class="btn btn-sm btn-outline-primary">Edit Plan</a>
        </div>
      </div>
      

      <div class="col-md-6 mb-4">
        <div class="card p-4 bg-light shadow-sm h-100">
          <h5 class="mb-3">ðŸ“Š Your Progress</h5>
          <p>Calories Burnt: <strong>{{ total_calories }} kcal</strong></p>
          <p>Workout Time: <strong>{{ total_duration }} mins</strong></p>
          <p>Workouts: <strong>{{ workout_names }}</strong></p>
        </div>
      </div>
      

    <!-- Sidebar -->
    <div class="col-md-4">
      <div class="card p-4 shadow-sm">
        <h5 class="mb-3 text-center">ðŸš€ Quick Actions</h5>
        <div class="text-center">
          <a href="{{ url_for('workout_plan') }}" class="btn btn-main btn-block mb-2">New Week Plan</a>
          <a href="{{ url_for('input_page') }}" class="btn btn-main btn-block mb-2">Enter Workout Details</a>
          <a href="{{ url_for('visualise_page') }}" class="btn btn-main btn-block mb-2">View Visualisation</a>
          <a href="{{ url_for('share_page') }}" class="btn btn-main btn-block mb-2">Share Progress</a>
          <a href="{{ url_for('logout') }}" class="btn btn-logout btn-block">Logout</a>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
