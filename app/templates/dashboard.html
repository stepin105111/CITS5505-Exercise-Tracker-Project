{% extends "base.html" %}

{% block title %}Dashboard | Fitness Tracker{% endblock %}

{% block header %}
<!-- Empty to suppress base.html header -->
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block body_class %}dashboard-page{% endblock %}
{% block content %}
<div class="app-container">
  <aside class="sidebar">
    <div class="menu-toggle">
      <i class="fas fa-bars"></i>
    </div>
    <div class="sidebar-header">
      <img src="static/images/Fitness logo.jpg" alt="Profile">
      <div class="user-info">
        <h3>{{ user.username }}</h3>
        <p>Fitness Enthusiast</p>
      </div>
    </div>
    <nav class="menu">
      <a href="#" class="menu-item active" data-target="dashboard-section">
        <i class="fas fa-home"></i> <span>Dashboard</span>
      </a>
      <a href="#" class="menu-item" data-target="workout-plan-section">
        <i class="fas fa-calendar-alt"></i> <span>Workout Plan</span>
      </a>
      <a href="#" class="menu-item" data-target="workout-details-section">
        <i class="fas fa-calendar-alt"></i> <span>Workout Details</span>
      </a>
      <a href="#" class="menu-item" data-target="workout-statistic-section">
        <i class="fas fa-chart-line"></i> <span>Workout Statistics</span>
      </a>
      <a href="#" class="menu-item" data-target="schedule-section">
        <i class="fas fa-calendar-week"></i> <span>Schedule</span>
      </a>
      <a href="#" class="menu-item" data-target="share-section">
        <i class="fas fa-share-alt"></i> <span>Share Data</span>
      </a>
      <a href="#" class="menu-item settings-btn" data-target="settings-section">
        <i class="fas fa-user-circle fa-lg"></i> <span>Settings</span>
      </a>
      <a href="{{ url_for('logout') }}" class="menu-item logout-btn">
        <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
      </a>
    </nav>
  </aside>
  <main class="main-content">
    <header class="dashboard-header">
      <h1>Welcome, {{ user.username }}!</h1>
    </header>
    <section id="dashboard-section" class="content-section active">
      <div class="statistics-container">
        <div class="stats-card">
          <div class="stats-icon blue">
            <i class="fas fa-dumbbell"></i>
          </div>
          <div class="stats-info">
            <h3>Workouts Days</h3>
            <p>5 / 7</p>
          </div>
        </div>
        <div class="stats-card">
          <div class="stats-icon orange">
            <i class="fas fa-fire-alt"></i>
          </div>
          <div class="stats-info">
            <h3>Calories Burned</h3>
            <p>500</p>
          </div>
        </div>
        <div class="stats-card">
          <div class="stats-icon green">
            <i class="fas fa-running"></i>
          </div>
          <div class="stats-info">
            <h3>Distance Covered</h3>
            <p>10.5 km</p>
          </div>
        </div>
        <div class="stats-card">
          <div class="stats-icon red">
            <i class="fas fa-stopwatch"></i>
          </div>
          <div class="stats-info">
            <h3>Workout Time</h3>
            <p>1.5 hrs</p>
          </div>
        </div>
      </div>

      <h2>WORKOUT PLANS</h2>
      <div class="workout-plans">
        {% for plan in workout_plans %}
        <div class="workout-plan">
          <h3>{{ plan.title }}</h3>
          <p>{{ plan.description }}</p>

          <p>Progress: {{ plan.progress }}%</p>
        </div>
        {% endfor %}
      </div>
    </section>
    <section id="workout-plan-section" class="content-section">
      <h2>CREATE WORKOUT PLAN</h2>
      <form method="post" >
        <div class="plan-creator">

          <!-- Plan Name -->
          <div class="form-group">
            <label for="plan-name">Plan Name</label>
            <input type="text" id="plan-name" class="form-control" placeholder="e.g. Body Transformation">
          </div>
  
          <!-- Description -->
          <div class="form-group">
            <label for="plan-calorie">Calories to Burn (week)</label>
            <textarea id="plan-calorie" class="form-control" rows="3"
              placeholder="Enter Calories to burn this week..."></textarea>
          </div>
  
          <!-- Duration -->
          <div class="form-group">
            <label for="plan-duration">Duration in minutes (weeks)</label>
            <input type="number" id="plan-duration" class="form-control" >
          </div>
  
          <!-- Submit Button -->
          <button class="btn btn-primary">Create Plan</button>
        </div>
      </form>
      <div id="workout-plan-container"></div>
    </section>

    <section id="workout-details-section" class="content-section">
      <h2>ENTER WORKOUT DETAILS</h2>
      <form method="post">
        <div class="plan-creator">

          <!-- Plan Name -->
          <div class="form-group">
              <label for="plan-name">Workout Name</label>
              <input type="text" id="plan-name" class="form-control"
                  placeholder="e.g., Summer Body Transformation">
          </div>

          <!-- Description -->
          <div class="form-group">
              <label for="plan-description">Description</label>
              <textarea id="plan-description" class="form-control" rows="3"
                  placeholder="Describe your workout plan goals..."></textarea>
          </div>

          <!-- Duration -->
          <div class="form-group">
              <label for="plan-duration">Duration in minutes (weeks)</label>
              <input type="number" id="plan-duration" class="form-control">
          </div>

          <!-- Workout Type -->
          <div class="form-group">
              <label for="workout-type">Workout Type</label>
              <select id="workout-type" class="form-control"required>
                  <option value="">-- Select --</option>
                  <option value="Cardio">Cardio</option>
                  <option value="Strength">Strength</option>
                  <option value="Running">Running</option>
                  <option value="Cycling">Cycling</option>
                  <option value="Yoga">Yoga</option>
                  <option value="Mixed">Mixed</option>
              </select>
          </div>

          <!-- Calories Goal -->
          <div class="form-group">
              <label for="calories-goal">Calories</label>
              <input type="number" id="calories-goal" class="form-control" placeholder="e.g., 500">
          </div>

          <!-- Intensity -->
          <div class="form-group">
              <label for="intensity">Intensity</label>
              <select id="intensity" class="form-control">
                  <option value="">-- Select Intensity --</option>
                  <option value="Low">Low</option>
                  <option value="Moderate">Moderate</option>
                  <option value="High">High</option>
              </select>
          </div>

          <!-- Start Date -->
          <div class="form-group">
              <label for="start-date">Start Date</label>
              <input type="date" id="start-date" class="form-control">
          </div>

           <!-- Workout Days -->
           <div class="form-group">
            <label for="plan-days">Workout Days</label>
            <div class="days-selector" style="display: flex; gap: 10px; margin-top: 5px;">
                <button class="btn" type="button" style="background: #f0f4f8;">Mon</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Tue</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Wed</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Thu</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Fri</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Sat</button>
                <button class="btn" type="button" style="background: #f0f4f8;">Sun</button>
            </div>
        </div>
          
          <!-- Submit Button -->
          <button class="btn btn-primary">Create Workout</button>
      </div>
      </form>
      

      <div id="workout-details-container"></div>
    </section>
    <section id="workout-statistic-section" class="content-section">
      <h2>WORKOUT STATISTICS</h2>
      <div class="chart-container">
        <div class="chart-card">
          <div class="chart-header">
            <h3>Workout Activities</h3>
          </div>
          <canvas id="activitiesChart"></canvas>
        </div>
        <div class="chart-card">
          <div class="chart-header">
            <h3>Weekly Progression</h3>
          </div>
          <canvas id="progressionChart"></canvas>
        </div>
      </div>
    </section>


  </main>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
{% endblock %}